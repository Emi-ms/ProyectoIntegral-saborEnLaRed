<div class="white-box"></div>


<div id="detail-div">
    <div id="detail-header">
        <img [src]="imageSrc" alt="imagen">
    </div>
    <div id="rate-div">
        <h1>{{ recipe?.recipeName }}<span style="font-size: small;"> subida por {{recipe?.user?.userName}} {{recipe?.user?.userSurname}}</span></h1>
        <p class="card-text d-flex "><mat-icon
                style="color: rgb(230, 230, 91);margin-right: 2px;">stars</mat-icon>Puntuación: {{
            recipeDoubleCurrentRate }} / 10</p>
    </div>
    <div id="category-div">
        <span *ngIf="!userLoginOn"></span>
        <a *ngIf="userLoginOn" mat-raised-button color="accent" routerLink="/recipes/rate/{{ idRecipe }}">Puntúa la
            receta</a>
        <div id="category-wrapper">
            <h3>CATEGORIAS</h3>
            <ul>
                <li class="d-flex" *ngFor="let category of recipe?.categories"><mat-icon
                        style="color: rgb(96, 230, 91);margin-right: 5px;">spa</mat-icon>{{ category.categoryName }}
                </li>
            </ul>
        </div>
    </div>
    <div id="detail-body">
        <div id="ingredients-div">
            <h3>Ingredientes</h3>
            <ul>
                <li class="d-flex mt-2" *ngFor="let ingredient of recipe?.recipeIngredients"><mat-icon
                        style="color: rgb(96, 230, 91);margin-right: 5px;">check_circle</mat-icon><span
                        style="margin-right: 5px; font-weight: bold;">{{ ingredient.ingredientName }}</span> {{
                    ingredient.quantity }} {{ ingredient.unitMeasure }} </li>
            </ul>
        </div>
        <div id="description-div">
            <h3>Pasos de la receta</h3>
            <div [innerHTML]="formatedDescription"></div>
        </div>
    </div>
    <div id="comments-div">
        <div class="d-flex ">
            <div class="d-flex">
                <mat-icon style="color: #4A4A4A;margin-right: 5px;">comment</mat-icon>
                <h3>Comentarios</h3>
            </div>

            <a *ngIf="userLoginOn" mat-raised-button color="accent" routerLink="/recipes/comment/{{ idRecipe }}"
                style="margin-left: auto;">Realiza un comentario</a>
        </div>
        <div *ngIf="comments && comments.length > 0; else noComments"></div>
        <div *ngFor="let comment  of comments" class="comment">
            <hr class="mt-3" style="width: 50%; margin: 0 auto;">
            <div class="comment-header">
                <h4>{{ comment.userName }}</h4>
            </div>
            <div class="comment-body">
                <p>"{{ comment.commentText }}"</p>
            </div>
        </div>
    </div>
    <ng-template #noComments>
        <p>Esta receta todavía no tiene comentarios.</p>
    </ng-template>
</div>